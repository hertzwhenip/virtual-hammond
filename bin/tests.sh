#! /usr/bin/env bash

set -e

#############################################################################
### HELPERS
#############################################################################

msg() {
    echo "$1"
    sleep 0.1
}

#############################################################################
### MAIN
#############################################################################

main() {
    msg ">>> Changing into tests directory..."

    cd "../server/tests"
    msg "  Changed into tests directory."

    msg ">>> Running tests..."

    for file in $(find . -name '*.py'); do
        py.test $file
        msg "  Ran test $file."
    done
}

#############################################################################
### BOOTSTRAP
#############################################################################

main "$@"
